# How Does JWT Authentication Work? (JSON Web Token) | Tokens vs Sessions

> Only the articles I read will be memo with detail. Excluding videos, but including topics related to reading.

> I only memo (or take notes on) the sentences I don't understand here.

> 不熟悉的單字也會加上(雖然可能知道意思)、粗體基本上可能有補充在單字

> https://www.youtube.com/watch?v=hoBSjmrwF1k

## 單字

--- 

|                             |                           |                               |                                 |                           |
|:---------------------------:|:-------------------------:|:-----------------------------:|:-------------------------------:|:-------------------------:|
| [subsequent](#subsequent)   | [secret](#secret)         | [inextricably](#inextricably) | [dedicate](#dedicate)           | [relative](#relative)     |
| [discuss](#discuss)         | [relevant](#relevant)     | [prosperity](#prosperity)     | [signature](#signature)         | [audience](#audience)     |
| [illness](#illness)         | [leaflet](#leaflet)       | [fortune](#fortune)           | [practically](#practically)     | [through](#through)       |
| [disease](#disease)         | [vulnerable](#vulnerable) | [innovative](#innovative)     | [Theoretically](#Theoretically) | [throughput](#throughput) |
| [resignation](#resignation) | [intertwine](#intertwine) | [innovation](#innovation)     | [relatively](#relatively)       |                           |

`subsequent`: /ˈsʌb.sɪ.kwənt/  <span id='subsequent'> </span>

- `adj` happening after something else

- The book discusses his illness and subsequent resignation from politics.

- 不是subsequence (重音偏後) 這個單字重音在前面但`確實有sɪ`的音

`discuss`: /dɪˈskʌs/        <span id='discuss'> </span>

- `verb` 討論
- 注意發音有點 `尬s`的音  不是`鉻s`
- We will *discuss* the proposal at the meeting
  - 我們將在會議上討論這項提議。

`illness`: /ˈɪl.nəs/        <span id='illness'> </span>

- `noun`  a disease of the body or mind

`disease`: /dɪˈziːz       <span id='disease'> </span>

`resignation`:/ˌrez.ɪɡˈneɪ.ʃən/           <span id='resignation'> </span>

- `noun` the act of telling your employer that you are leaving your job
- 注意重音在 nation 不是 /ˌreˈzɪɡ neɪ.ʃən/ ，另外要有點聽不到g 才對 ! 一點點頓在那邊
- His **resignation** came as a surprise to everyone.
  - 他的辭職令大家感到驚訝。 

`secret` : /ˋsikrɪt/        <span id='secret'> </span>

- 劍橋 /ˈsiː.krət/  但是 Google YTR Yahoo都是上面那個!

`relevant` : /ˈrel.ə.vənt/        <span id='relevant'> </span>

- `adg` connected with what is happening or being discussed
- Education should be **relevant to** the child's needs.
- For further information, please refer to the relevant **leaflet**.
- `2:40` 有點難聽出來

`leaflet` : /ˈliː.flət/ 或 /ˈliː.flet/        <span id='leaflet'> </span>

- `noun` 傳單 (散的) 、 `verb` 發傳單
- They **leafleted** the area two weeks before the event.

`vulnerable ` : /ˈvʌl.nɚ.ə.bəl/       <span id='vulnerable'> </span>

- able to be easily physically, emotionally, or mentally hurt, influenced, or attacked.
- `adj` 容易受傷的
- I felt very **vulnerable**, standing there without any **clothes** on.  [ /kloʊðz/ ]

`intertwine` : /ˌɪn.t̬ɚˈtwaɪn/       <span id='intertwine'> </span>

- `verb` （使）纏結，（使）纏繞在一起;（使）緊密關聯

- to twist or be twisted together, or to be connected so as to be difficult to separate

- The town's **prosperity** is **inextricably intertwined** with the **fortunes** of the factory.

`inextricably` : /ˌɪn.ɪkˈstrɪk.ə.bli/       <span id='inextricably'> </span>

- 這單字超級難唸出來 

- `adv` 密不可分地

- in a way that is unable to be separated, released, or escaped from

- His name was **inextricably** linked with the environmental movement.

`prosperity` : /prɑːˈsper.ə.t̬i/           <span id='prosperity'> </span>

- 見過但常叫不出正確發音哈哈

- `noun` the state of being successful and having a lot of money

- 成功、經濟上的繁榮 、昌盛

`fortune` : /ˈfɔːr.tʃuːn/     <span id='fortune'> </span>

- a large amount of money, goods, property, etc. 
- `noun` 一大筆錢；大量財産

`innovative` : /ˈɪn.ə.veɪ.t̬ɪv/      <span id='innovative'> </span>

- <mark>重音只有前面</mark> 不是 /ɪn.əˈveɪt̬ɪv/
- `adj` 創新的 新穎的 using new methods or ideas
- She was an **imaginative** and innovative manager.

`innovation` : /ˌɪn.əˈveɪ.ʃən/        <span id='innovation'> </span>

- 念的時候好像不用故意前面放很輕 只有字典會那樣

- `noun`  (the use of) a new idea or method 新方法

- the latest innovations in computer technology

`imaginative` : /ɪˈmædʒ.ə.nə.t̬ɪv/ <span id='imaginative'> </span>

- `adj` 有創意的

- new, original, and clever、想像力豐富的

`dedicate` : /ˈded.ɪ.keɪt/   ɪ為主  <span id='dedicate'> </span>

- to give all of your energy, time, etc.

- He has **dedicated** his life to scientific research.

- dedicated 念作 /ˈded.ɪ.keɪtɪd/

`signature` :  /ˈsɪɡ.nə.tʃɚ/    <span id='signature'> </span>

- 注音發音 後面都是輕聲 不是nature /ˈneɪ.tʃɚ/ 喔!!

- `noun` 簽名

`practically` : /ˈpræk.tɪ.kəl.i/  <span id='practically'> </span>

- `adv` almost or very nearly 

- `adv` 實際上 / 實際地 

- in a way that relates to real situations and actions rather than ideas

`Theoretically` : /ˌθiː.əˈret̬.kəl.i/ <span id='Theoretically'> </span>

- `adv` 理論上

- in a way that obeys some rules but is not likely

- Theoretically, it's a good idea to live without a car, but practically speaking, it would be difficult to manage without one.

`relatively` :  /ˈrel.ə.t̬ɪv.li/  <span id='relatively'> </span>

- 重音在前啦 跟我印象不同

`relative` : /ˈrel.ə.t̬ɪv/  <span id='relative'> </span>

- `noun` 親屬 a member of your family

- `adj` 相對的 

- Since I got a job, I've been living in relative comfort (= more comfort than before).

- We weighed up the relative advantages of driving there or going by train.

`audience` :   /ˈɑː.di.əns/  <span id='audience'> </span>

- `9:00` 

- 觀眾 / 讀者 / 聽者 

- 觀眾人數 / 聽眾人數  / 讀者人數

- She **lectures** to audiences all over the world. [ /ˈlek.tʃɚ/  ]

`through` :  /θruː/  <span id='through'> </span>

- `9:47` 
  
  `adv` 通過、穿越
  
  - from one end or [side](https://dictionary.cambridge.org/zht/%E8%A9%9E%E5%85%B8/%E8%8B%B1%E8%AA%9E-%E6%BC%A2%E8%AA%9E-%E7%B9%81%E9%AB%94/side "side") of something to the other 
  
  - They walked slowly through the woods.
  
  - We [drove](https://dictionary.cambridge.org/zht/%E8%A9%9E%E5%85%B8/%E8%8B%B1%E8%AA%9E-%E6%BC%A2%E8%AA%9E-%E7%B9%81%E9%AB%94/drove "drove") through the [tunnel](https://dictionary.cambridge.org/zht/%E8%A9%9E%E5%85%B8/%E8%8B%B1%E8%AA%9E-%E6%BC%A2%E8%AA%9E-%E7%B9%81%E9%AB%94/tunnel "tunnel"). [/ˈtʌn.əl/ ]

- `adv` 自始至終  
  
  - from the beginning to the end of a period of time
  
  - It rained all/right through June and **into the first half** of July.
    
    - 雨下了整個6月一直到7月的前半個月。
  
  - We sat **through two of the speeches** and then left.
    
    - 我們 (過去) 坐著 (聽完) 兩個演講 / 課程 然後離開。
  
  - She had just enough energy to get through the day.
    
    - 她有剛好的能量度過一天。
  
  - She works Monday through Thursday

`throughput` :  /ˈθruː.pʊt/  <span id='throughput' style='color:yellow'> -</span>

- `noun` 生產率 

- an amount of work, etc. done in a particular period of time

- We need to improve our throughput because demand is high at the moment.

## 片語

---

`start off` : 描述事或物的開始階段

- it's going to start off the same way.

`it's going to` : 常見短語、表達某件事情或情況將發生

- It's going to rain tomorrow.
- He's going to start a new job next month.

`as opposed to`  : 用於指出兩者間的差異 、對比、轉折

- I prefer to go for a run in the morning, **as opposed to** working out in the evening.

`working out` : 鍛鍊 ( 跑步 健身 舉重都可以唷 )

`a ton of` :

- `8:25` 出現 have a ton of data 

- 俚語 數據量很大

`compromise` : 妥協 讓步  /ˈkɑːm.prə.maɪz/

- `8:32` 之後出現的 下面句子那也有 粗體

- `verb`  `妥協`  `讓步` 
  
  - Party unity is threatened when members will not compromise.
  
  - Well, you want \$400 and I say  \$300, so let's compromise at/on \$350.

- `verb`  `看英譯` to allow your principles to be less strong or your standards or morals to be lower
  
  - If we **back down** on this issue, our **reputation** will be compromised.   - [ /ˌrep.jəˈteɪ.ʃən/ ]

- `verb` `危及` to risk having a harmful effect on something
  
  - We would never compromise the safety of our passengers.

`intended for` :

- `9:07` 描述某 [物品] [訊息] [服務] [行動] 的預期對象、目標用戶

- This toy is intended for children ages 3 to 5.

- The event is intended for staff members only.

`help me out a ton` :

- 口語的幫...很大的忙

## 句子

---

> and are **then** sent with every subsequent request.

`2:28` 也有用到 `then`   

    解釋 : ( then  然後 ) 在這邊表示時間、順序

---

> if they're valid it's going to **instead of creating** a session in the database. it's going to create a token.

`2:12`        

    這邊有點聽力障礙，可看一下instead of ving。    

---

> keep these secret and if they **ever** get leaked or exposed that you change the key **right away**

`2:35`

    ever 曾經
    right away 立刻

---

> which it will then get stored in local storage it could also be stored in a cookie **either way**

`2:46`

    either way 不管選擇哪一個用法 結果都會是一樣的

---

`3:08` 

> so if the validation succeeds it's **assumed** that the user is authenticated

```
assumed 有點難聽懂
```

---

`3:18` 、`4:20` 

> so now i want to **go over** the differences between the two 

```
go over 討論 審查 檢查 詳細講解
```

---

`3:34`

> with sessions the authentication state is stored on the server **either** in the database or in memory **whereas** the token is stateless all the info is in the token and  **nowhere** else

```
either念作: ㄟder 或 一der  
不是在server的memory就是在database。

stored on the server 抽象概念的儲存
whereas 然而、表示對比
nowhere else 表示不在其他地方
```

```
操場表面上
The kids are playing on the playground.

操場範圍內
There is a tree in the playground
She's waiting for her friends in the playground
```

---

`4:09`

> we'll see that later and lastly sessions are **vulnerable** to csrf attacks whereas tokens are **vulnerable** to cross-site scripting and i'm not going to go in **depth** onto what those are but you can **look them up** if you want

```
vulnerable > 聽力+不熟悉+語速快!
go in depth 表示深入探討  /depθ/
onto 透過介係詞引導討論對象
look them up 查找、這只是把 them 擺中間
```

---

`4:29`

> this is the token and it's **made up of** three different parts all separated by a dot

```
 made up of 如何構成某個物品、概念、團體
```

​        例句如下

- This dish is made up of various spices and herbs, creating a unique flavor.

- The report is made up of three main sections: introduction, analysis, and conclusion.

- The novel is made up of multiple storylines that eventually **intertwine**.

- The study group is made up of students from different backgrounds.

- The company’s success is made up of its **innovative** ideas and **dedicated** employees.

---

`4:44` 

> and then the token type which is jwt and **so** it's going to take this json ... 

```
so 表示基於前面提到的情況或訊息 引導出後續的解釋、結論
```

---

`5:41` 

> and now the signature is created by **taking** the header and the payload

```
讀取 / 提取 總之就是執行某種動作 自己去推論
```

---

`6:50` 

> but if i **go in** here and  i add a letter to the secret  you'll see that **althought** the payload and the header didn't change the **signature** change

```
go in 可以觀察螢幕她在幹嘛，
```

---

`7:35` 

> if someone **were to** generate a token with the same header and payload but a different secret this output of the hash will be different from the original token that was signed so we'll know that the token is not valid 

---

`7:48` 

> and another thing to note with hash functions is given just the output it is **practically** impossible to get the original input and so that's why we have to take the original input and hash it and then compare that value to the signature **as opposed to** just taking the signature and trying to decrypt it somehow um with hash functions you **can't** do that

```
practically   :  almost or very nearly (幾乎) / 實際地 
as opposed to :  用於指出兩者間的差異 、對比、轉折
can't 
```

[(46) 欸？你能聽得出差別嗎？我來教你如何分辨 can 跟 can't ！【發音教學】 - YouTube](https://www.youtube.com/watch?v=C_WnVduOqyk)

---

`8:15` 

> go over some best practices

```
又提 go over : 進一步討論、詳細討論
```

> so first you want to keep tokens **relatively** small

```
注意聽才有 relatively 重音 在開頭! 
```

---

`8:32` 

> because as you saw anybody can **paste in** a token and decode all those values so that's publicly accessible 

```
將某物貼到特定位置或容器中
```

> you also want to have short expirations with tokens because if a user's token get's **compromised** ,you wouldn't wnat somebody else to use  it for a long time and be able to act as  that user.

```
危害 to risk having a harmful effect on something
```

---

`8:52` 

> implements refresh tokens so that the user doesn't have to **keep signing in** if their normal access token was expired

```
持續 登入  
```

--- 

`9:07` 

> where the token is being signed from and who it is **intended for** so it just adds some context and some more security 

```
intended for 描述某 [物品] [訊息] [服務] [行動] 的預期對象、目標用戶 
```

---

`10:22` 

> you can see that there's a question mark here because if you're using refresh token **rotation** then every time you refresh an access token you will also get a new refresh token to use on the next request

```
using refresh token rotation 

這邊的 rotation 代表 一種安全實踐 security practice
常被用來指 [定期更換密碼之類的提高安全性]  策略
```

---

`11:01` 

> you would generate a new access token **along with** a new refresh token for the next request 

```
伴隨著...
```

---

`11:20` 

> help me out a ton

```
幫很大忙
```

--- 

## 大意 : 片段擷取

> session  弱點是 csrf (cross-site request forgery) 跨網站請求偽造

```
利用網站(SERVER)對使用者網頁瀏覽器的信任

只能保證這個Request 發自某個 User ，卻不能保證請求本身是 User 自願發出的。
```

> token 弱點是 cross-site scripting (XSS)

```
利用使用者對指定網站的信任
```

## 延伸閱讀

> [零基礎資安系列（一）-認識 CSRF（Cross Site Request Forgery） (cymetrics.io)](https://tech-blog.cymetrics.io/posts/jo/zerobased-cross-site-request-forgery/)
